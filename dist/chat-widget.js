!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ChatWidget=t():e.ChatWidget=t()}(this,(()=>(()=>{"use strict";var e={589:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(574),o=n.n(i),r=n(703),a=n.n(r)()(o());a.push([e.id,".chat-widget-container {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  z-index: 9999;\n  font-family: system-ui, -apple-system, sans-serif;\n}\n\n.chat-bubble {\n  width: 60px;\n  height: 60px;\n  background: var(--primary-color, #007bff);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  transition: transform 0.2s ease;\n}\n\n.chat-bubble:hover {\n  transform: scale(1.05);\n}\n\n.chat-window {\n  position: absolute;\n  bottom: 80px;\n  right: 0;\n  width: 350px;\n  height: 500px;\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  opacity: 0;\n  transform: translateY(20px);\n}\n\n.chat-window.visible {\n  opacity: 1;\n  transform: translateY(0);\n}\n\n.chat-header {\n  padding: 15px;\n  background: var(--primary-color, #007bff);\n  color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.chat-messages {\n  flex: 1;\n  overflow-y: auto;\n  padding: 15px;\n}\n\n.message {\n  margin: 8px 0;\n  padding: 10px;\n  border-radius: 8px;\n  max-width: 80%;\n}\n\n.message.user {\n  background: var(--primary-color, #007bff);\n  color: white;\n  margin-left: auto;\n}\n\n.message.assistant {\n  background: #f0f0f0;\n  margin-right: auto;\n}\n\n.chat-input {\n  padding: 15px;\n  border-top: 1px solid #eee;\n}\n\n.chat-input input {\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #ddd;\n  border-radius: 6px;\n  outline: none;\n}\n\n.chat-input input:focus {\n  border-color: var(--primary-color, #007bff);\n}\n\n.resize-handle {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  width: 15px;\n  height: 15px;\n  cursor: se-resize;\n} ",""]);const s=a},703:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,o,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(i)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);i&&a[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},574:e=>{e.exports=function(e){return e[1]}},241:e=>{var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var r={},a=[],s=0;s<e.length;s++){var c=e[s],d=i.base?c[0]+i.base:c[0],l=r[d]||0,u="".concat(d," ").concat(l);r[d]=l+1;var p=n(u),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var f=o(h,i);i.byIndex=s,t.splice(s,0,{identifier:u,updater:f,references:1})}a.push(u)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var r=i(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<r.length;a++){var s=n(r[a]);t[s].references--}for(var c=i(e,o),d=0;d<r.length;d++){var l=n(r[d]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}r=c}}},750:e=>{var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},237:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},89:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},630:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},994:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={id:i,exports:{}};return e[i](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var i={};n.r(i),n.d(i,{initializeChatWidget:()=>x});class o{constructor(e){this.config=e}sendMessage(e){return t=this,n=void 0,o=function*(){try{const t=yield fetch(this.config.apiEndpoint,{method:"POST",headers:{Authorization:`Bearer ${this.config.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify({question:e})});return{content:(yield t.json()).text}}catch(e){return{content:"",error:"Failed to get response"}}},new((i=void 0)||(i=Promise))((function(e,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}c((o=o.apply(t,n||[])).next())}));var t,n,i,o}}class r{constructor(){this.STORAGE_KEY="chat_widget_history"}saveMessages(e){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}loadMessages(){const e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):[]}clearHistory(){localStorage.removeItem(this.STORAGE_KEY)}}var a=n(241),s=n.n(a),c=n(630),d=n.n(c),l=n(750),u=n.n(l),p=n(89),h=n.n(p),f=n(237),m=n.n(f),g=n(994),v=n.n(g),y=n(589),w={};w.styleTagTransform=v(),w.setAttributes=h(),w.insert=u().bind(null,"head"),w.domAPI=d(),w.insertStyleElement=m(),s()(y.A,w),y.A&&y.A.locals&&y.A.locals;class b{constructor(e){this.messages=[],this.isMinimized=!0,this.apiService=new o(e),this.storageService=new r,this.messages=this.storageService.loadMessages(),this.initializeWidget()}initializeWidget(){this.container=document.createElement("div"),this.container.className="chat-widget-container",this.createChatBubble(),this.createChatWindow(),document.body.appendChild(this.container)}createChatBubble(){const e=document.createElement("div");e.className="chat-bubble",e.innerHTML="ðŸ’¬",e.onclick=()=>this.toggleChat(),this.container.appendChild(e)}createChatWindow(){this.window=document.createElement("div"),this.window.className="chat-window";const e=this.createHeader(),t=this.createMessagesContainer(),n=this.createInput();this.window.appendChild(e),this.window.appendChild(t),this.window.appendChild(n),this.makeResizable(),this.container.appendChild(this.window)}toggleChat(){this.isMinimized=!this.isMinimized,this.window.classList.toggle("visible",!this.isMinimized)}sendMessage(e){return t=this,n=void 0,o=function*(){const t={id:Date.now().toString(),content:e,role:"user",timestamp:Date.now()};this.addMessage(t);const n=yield this.apiService.sendMessage(e);if(!n.error){const e={id:(Date.now()+1).toString(),content:n.content,role:"assistant",timestamp:Date.now()};this.addMessage(e)}},new((i=void 0)||(i=Promise))((function(e,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,s)}c((o=o.apply(t,n||[])).next())}));var t,n,i,o}addMessage(e){this.messages.push(e),this.storageService.saveMessages(this.messages),this.renderMessages()}renderMessages(){const e=this.window.querySelector(".chat-messages");e&&(e.innerHTML=this.messages.map((e=>`\n        <div class="message ${e.role}">\n          ${e.content}\n        </div>\n      `)).join(""),e.scrollTop=e.scrollHeight)}makeResizable(){const e=document.createElement("div");e.className="resize-handle",this.window.appendChild(e);let t,n,i,o,r=!1;e.addEventListener("mousedown",(e=>{r=!0,t=this.window.offsetWidth,n=this.window.offsetHeight,i=e.clientX,o=e.clientY})),document.addEventListener("mousemove",(e=>{if(!r)return;const a=t+(e.clientX-i),s=n+(e.clientY-o);this.window.style.width=`${Math.max(300,a)}px`,this.window.style.height=`${Math.max(400,s)}px`})),document.addEventListener("mouseup",(()=>{r=!1}))}createHeader(){const e=document.createElement("div");e.className="chat-header";const t=document.createElement("div");t.textContent="Chat";const n=document.createElement("button");return n.textContent="âœ•",n.style.background="none",n.style.border="none",n.style.color="white",n.style.cursor="pointer",n.onclick=()=>this.toggleChat(),e.appendChild(t),e.appendChild(n),e}createMessagesContainer(){const e=document.createElement("div");return e.className="chat-messages",this.renderMessages(),e}createInput(){const e=document.createElement("div");e.className="chat-input";const t=document.createElement("input");return t.type="text",t.placeholder="Type a message...",t.addEventListener("keypress",(e=>{"Enter"===e.key&&t.value.trim()&&(this.sendMessage(t.value.trim()),t.value="")})),e.appendChild(t),e}}function x(e){return new b(e)}return window.initializeChatWidget=x,i})()));